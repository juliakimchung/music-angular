var spawn = require('child_process').spawn;

var http = require('http');
var copy = require('shallow-copy');
var parse_cmd = require('shell-quote').parse;
var debug = require('debug')('zuul:user-server');

module.exports = function(server, callback) {
    debug('user server: %s', server);

    var cmd;
    var cwd;
    var wait = 0;
    if (server !== null && server.cmd) {
        // expect the following format in .zuul.yml
        // server:
        //   cmd: ./test/support/server.js
        //   cwd: ./an